<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LFG Site</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Basic styling for the group list */
        #groupList {
            margin-top: 20px;
        }
        .group-item {
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <h1>Titan LFG</h1>
    <form id="lfgForm">
        <button type="button" onclick="createGroup()">Create Group</button>
        <button type="button" onclick="selectMission('Void Farming')">Void Farming</button>
        <button type="button" onclick="selectMission('Calling of the Descendants')">Calling of the Descendants</button>
        <button type="button" onclick="selectMission('Encrypted Vaults')">Encrypted Vaults</button>
        <button type="button" onclick="selectMission('Zone Farming')">Zone Farming</button>
        <button type="button" onclick="selectMission('Normal Void Battles')">Normal Void Battles</button>
        <button type="button" onclick="selectMission('Hard Void Battles')">Hard Void Battles</button>
        <button type="button" onclick="donate()">Donate</button>
        
        <label for="missionType">Select a Mission Type:</label>
        <select id="missionType" onchange="updateLevels()">
            <option value="Void Farming">Void Farming</option>
            <option value="Calling of the Descendants">Calling of the Descendants</option>
            <option value="Normal Void Battles">Normal Void Battles</option>
            <option value="Hard Void Battles">Hard Void Battles</option>
            <option value="Encrypted Vaults">Encrypted Vaults</option>
            <option value="Zone Farming">Zone Farming</option>
        </select>

        <label for="missionLevel">What is your Objective:</label>
        <select id="missionLevel">
            <!-- Levels will be populated here -->
        </select>
    </form>

    <!-- Background music -->
    <audio id="backgroundMusic" autoplay loop>
        <source src="background-music.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- Recently created groups list -->
    <div id="groupList">
        <h2>Recently Created Groups</h2>
        <!-- Groups will be listed here -->
    </div>

    <script>
        // Object storing the different mission types and their respective levels
        const levels = {
            "Void Farming": ['Fire', 'Electric', 'Ice', 'Toxic', 'Non-Attribute'],
            "Calling of the Descendants": [
                'Bio-Lab', 'Caligo Ossuary', 'Heart of the Fortress', 'Magister Lab', 
                'Mystery\'s End', 'Old Mystery', 'Quarantine Zone', 'Seed Vault', 
                'Sepulcher', 'Slumber Valley', 'The Asylum', 'The Chapel', 
                'The Forgottense', 'The Haven', 'The Shelter', 'Unknown Laboratory'
            ],
            "Normal Void Battles": ['Grave Walker', 'Stunning Beauty', 'Executioner', 
                                     'Dead Bride', 'Devourer', 'Pyromaniac', 
                                     'Swamp Walker', 'Hanged Man'],
            "Hard Void Battles": ['Executioner', 'Dead Bride', 'Devourer', 'Pyromaniac', 
                                   'Swamp Walker', 'Obstructor', 'Frost Walker', 
                                   'Molten Fortress'],
            "Encrypted Vaults": ['Vault 1', 'Vault 2', 'Vault 3'], // Placeholder levels
            "Zone Farming": ['Agna Desert', 'Echo Swamp', 'Fortress', 'Haigos', 
                             'Kingston', 'Sterile Land', 'Vespers', 'White Night Gulch']
        };

        // Array to store created groups
        const groups = [];

        // Function to update mission levels based on selected mission type
        function updateLevels() {
            const missionType = document.getElementById('missionType').value;
            const missionLevel = document.getElementById('missionLevel');
            missionLevel.innerHTML = ''; // Clear existing options

            levels[missionType].forEach(level => {
                const option = document.createElement('option');
                option.value = level;
                option.textContent = level;
                missionLevel.appendChild(option);
            });
        }

        // Function to handle the 'Create Group' button click
        function createGroup() {
            const missionType = document.getElementById('missionType').value;
            const missionLevel = document.getElementById('missionLevel').value;
            if (!missionType || !missionLevel) {
                alert('Please select both a mission type and objective.');
                return;
            }

            const group = {
                type: missionType,
                level: missionLevel,
                timestamp: new Date()
            };

            // Add the new group to the beginning of the array
            groups.unshift(group);

            // Update the group list display
            displayGroups();
        }

        // Function to handle the 'Donate' button click
        function donate() {
            alert('Coming Soon');
            // Add any additional logic for donation here
        }

        // Function to handle mission selection and update the levels
        function selectMission(missionType) {
            document.getElementById('missionType').value = missionType;
            updateLevels();
        }

        // Function to display the list of groups
        function displayGroups() {
            const groupList = document.getElementById('groupList');
            groupList.innerHTML = '<h2>Recently Created Groups</h2>'; // Reset list

            groups.forEach(group => {
                const groupItem = document.createElement('div');
                groupItem.classList.add('group-item');
                groupItem.textContent = `${group.timestamp.toLocaleString()} - ${group.type} - ${group.level}`;
                groupList.appendChild(groupItem);
            });
        }

        // Initialize the mission levels for the default selected mission type
        updateLevels();
    </script>
</body>
</html>
