<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Titan LFG</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 50px auto;
            padding: 20px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #009688;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input, select, textarea, button {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            background-color: #009688;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #00796b;
        }
        .profile-pic {
            display: inline-block;
            width: 100px;
            height: 100px;
            margin: 10px;
            border-radius: 50%;
            cursor: pointer;
        }
        .profile-pic img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }
        .profile-pic:hover {
            border: 2px solid #009688;
        }
        .box-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .box {
            flex: 1;
            margin: 0 10px;
            padding: 20px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .box h2 {
            margin-top: 0;
        }
        #groupList {
            margin-top: 20px;
        }
        .group-item {
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 5px;
            background: #f9f9f9;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Splash Page -->
    <div id="splashPage" class="container">
        <h1>Login & Profile Creation</h1>
        <form id="loginForm">
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" required>
            </div>
            <button type="button" onclick="showProfileForm()">Login</button>
        </form>

        <hr>

        <form id="profileForm" class="hidden">
            <h2>Create Your Profile</h2>
            <div class="form-group">
                <label for="profilePic">Choose a Profile Picture</label>
                <div id="profilePicContainer">
                    <div class="profile-pic" onclick="selectPic('pic1')"><img src="pic1.jpg" alt="Profile Pic 1"></div>
                    <div class="profile-pic" onclick="selectPic('pic2')"><img src="pic2.jpg" alt="Profile Pic 2"></div>
                    <div class="profile-pic" onclick="selectPic('pic3')"><img src="pic3.jpg" alt="Profile Pic 3"></div>
                    <!-- Add more profile pics as needed -->
                </div>
                <input type="hidden" id="selectedPic" name="profilePic">
            </div>
            <div class="form-group">
                <label for="character">Choose Your Character</label>
                <select id="character" name="character">
                    <option value="1">Character 1</option>
                    <option value="2">Character 2</option>
                    <!-- Add more characters as needed -->
                </select>
            </div>
            <div class="form-group">
                <label for="characterLevel">Character Level (1-40)</label>
                <input type="number" id="characterLevel" name="characterLevel" min="1" max="40" required>
            </div>
            <div class="form-group">
                <label for="platform">Gaming Platform</label>
                <select id="platform" name="platform">
                    <option value="steam">Steam</option>
                    <option value="xbox">Xbox</option>
                    <option value="pc">PC</option>
                </select>
            </div>
            <div class="form-group">
                <label for="ingameUsername">In-Game Username</label>
                <input type="text" id="ingameUsername" name="ingameUsername" required>
            </div>
            <button type="button" onclick="createProfile()">Create Profile</button>
        </form>
    </div>

    <!-- Main Content -->
    <div id="mainContent" class="container hidden">
        <h1>Welcome to Titan LFG</h1>
        <form id="lfgForm">
            <div class="box-container">
                <div class="box">
                    <h2>LFG</h2>
                    <label for="missionTypeLFG">Select a Mission Type:</label>
                    <select id="missionTypeLFG" onchange="updateLevels('LFG')">
                        <option value="Void Farming">Void Farming</option>
                        <option value="Calling of the Descendants">Calling of the Descendants</option>
                        <option value="Normal Void Battles">Normal Void Battles</option>
                        <option value="Hard Void Battles">Hard Void Battles</option>
                        <option value="Encrypted Vaults">Encrypted Vaults</option>
                        <option value="Zone Farming">Zone Farming</option>
                    </select>

                    <label for="missionLevelLFG">What is your Objective:</label>
                    <select id="missionLevelLFG">
                        <!-- Levels will be populated here -->
                    </select>

                    <label for="runsLFG">Number of Runs:</label>
                    <input type="number" id="runsLFG" min="1" value="1">

                    <label for="descriptionLFG">Description:</label>
                    <textarea id="descriptionLFG" rows="4" placeholder="Enter description here..."></textarea>

                    <button type="button" onclick="createGroup('LFG')">Create LFG Post</button>
                </div>
                <div class="box">
                    <h2>LFM</h2>
                    <label for="missionTypeLFM">Select a Mission Type:</label>
                    <select id="missionTypeLFM" onchange="updateLevels('LFM')">
                        <option value="Void Farming">Void Farming</option>
                        <option value="Calling of the Descendants">Calling of the Descendants</option>
                        <option value="Normal Void Battles">Normal Void Battles</option>
                        <option value="Hard Void Battles">Hard Void Battles</option>
                        <option value="Encrypted Vaults">Encrypted Vaults</option>
                        <option value="Zone Farming">Zone Farming</option>
                    </select>

                    <label for="missionLevelLFM">What is your Objective:</label>
                    <select id="missionLevelLFM">
                        <!-- Levels will be populated here -->
                    </select>

                    <label for="runsLFM">Number of Runs:</label>
                    <input type="number" id="runsLFM" min="1" value="1">

                    <label for="descriptionLFM">Description:</label>
                    <textarea id="descriptionLFM" rows="4" placeholder="Enter description here..."></textarea>

                    <button type="button" onclick="createGroup('LFM')">Create LFM Post</button>
                </div>
            </div>

            <div id="groupList">
                <h2>Recently Created Groups</h2>
                <!-- Groups will be listed here -->
            </div>
        </form>
    </div>

    <script>
        // Object storing the different mission types and their respective levels
        const levels = {
            "Void Farming": ['Fire', 'Electric', 'Ice', 'Toxic', 'Non-Attribute'],
            "Calling of the Descendants": [
                'Bio-Lab', 'Caligo Ossuary', 'Heart of the Fortress', 'Magister Lab', 
                'Mystery\'s End', 'Old Mystery', 'Quarantine Zone', 'Seed Vault', 
                'Sepulcher', 'Slumber Valley', 'The Asylum', 'The Chapel', 
                'The Forgottense', 'The Haven', 'The Shelter', 'Unknown Laboratory'
            ],
            "Normal Void Battles": ['Grave Walker', 'Stunning Beauty', 'Executioner', 
                                     'Dead Bride', 'Devourer', 'Pyromaniac', 
                                     'Swamp Walker', 'Hanged Man'],
            "Hard Void Battles": ['Executioner', 'Dead Bride', 'Devourer', 'Pyromaniac', 
                                   'Swamp Walker', 'Obstructor', 'Frost Walker', 
                                   'Molten Fortress'],
            "Encrypted Vaults": ['Vault 1', 'Vault 2', 'Vault 3'], // Placeholder levels
            "Zone Farming": ['Agna Desert', 'Echo Swamp', 'Fortress', 'Haigos', 
                             'Kingston', 'Sterile Land', 'Vespers', 'White Night Gulch']
        };

        // Array to store created groups
        const groups = [];

        // Function to show the profile form and hide the login form
        function showProfileForm() {
            document.getElementById('splashPage').classList.add('hidden');
            document.getElementById('profileForm').classList.remove('hidden');
        }

        // Function to handle profile creation
        function createProfile() {
            const username = document.getElementById('username').value;
            const profilePic = document.getElementById('selectedPic').value;
            const character = document.getElementById('character').value;
            const characterLevel = document.getElementById('characterLevel').value;
            const platform = document.getElementById('platform').value;
            const ingameUsername = document.getElementById('ingameUsername').value;

            if (!username || !profilePic || !character || !characterLevel || !platform || !ingameUsername) {
                alert('Please fill out all profile fields.');
                return;
            }

            document.getElementById('mainContent').classList.remove('hidden');
        }

        // Function to handle the 'Create Group' button click
        function createGroup(type) {
            const missionType = document.getElementById(`missionType${type}`).value;
            const missionLevel = document.getElementById(`missionLevel${type}`).value;
            const runs = document.getElementById(`runs${type}`).value;
            const description = document.getElementById(`description${type}`).value;
            if (!missionType || !missionLevel) {
                alert('Please select both a mission type and objective.');
                return;
            }

            const group = {
                type: type,
                missionType: missionType,
                missionLevel: missionLevel,
                runs: runs,
                description: description,
                timestamp: new Date(),
                username: "SampleUser", // Replace with actual username
                platform: "SamplePlatform" // Replace with actual platform
            };

            // Add the new group to the beginning of the array
            groups.unshift(group);

            // Update the group list display
            displayGroups();
        }

        // Function to update mission levels based on selected mission type
        function updateLevels(type) {
            const missionType = document.getElementById(`missionType${type}`).value;
            const missionLevel = document.getElementById(`missionLevel${type}`);
            missionLevel.innerHTML = ''; // Clear existing options

            levels[missionType].forEach(level => {
                const option = document.createElement('option');
                option.value = level;
                option.textContent = level;
                missionLevel.appendChild(option);
            });
        }

        // Function to display the list of groups
        function displayGroups() {
            const groupList = document.getElementById('groupList');
            groupList.innerHTML = '<h2>Recently Created Groups</h2>'; // Reset list

            groups.forEach(group => {
                const groupItem = document.createElement('div');
                groupItem.classList.add('group-item');
                groupItem.textContent = `${group.timestamp.toLocaleString()} - ${group.type} - ${group.missionType} - ${group.missionLevel} - Runs: ${group.runs} - ${group.description} - Username: ${group.username} - Platform: ${group.platform}`;
                groupList.appendChild(groupItem);
            });
        }

        // Initialize the mission levels for the default selected mission type
        updateLevels('LFG');
        updateLevels('LFM');

        // Function to handle profile picture selection
        function selectPic(picId) {
            document.getElementById('selectedPic').value = picId;
            const pics = document.querySelectorAll('.profile-pic');
            pics.forEach(pic => pic.style.border = 'none');
            document.querySelector(`.profile-pic img[src*="${picId}"]`).parentElement.style.border = '2px solid #009688';
        }
    </script>
</body>
</html>
